<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, user-scalable=no" />
  <title>狼人殺上帝輔助 MVP</title>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="app">
    <!-- Top Bar -->
    <header class="topbar">
      <div class="top-left" id="uiStatus">SETUP / R1 / SETUP:A1</div>
      <div class="top-mid" id="uiBoard">—</div>

      <div class="top-actions">
        <button class="top-icon" id="btnTimer" aria-label="倒數計時">⏱️</button>
        <button class="top-icon" id="btnSettings" aria-label="設定">⚙️</button>
      </div>
    </header>

    <!-- Prompt (public) -->
    <section class="panel prompt">
      <div class="panel-title" id="promptTitle">選擇人數</div>
      <div class="panel-body" id="promptText">請選擇人數：9人、10人或12人。</div>
      <div class="panel-foot" id="promptFoot"></div>
    </section>

    <!-- God-only panel -->
    <section class="panel god">
      <div class="panel-head">
        <div class="panel-title">上帝資訊</div>
        <label class="toggle">
          <input type="checkbox" id="toggleGodView" />
          <span>👁️ 展開</span>
        </label>
      </div>
      <div class="panel-body god-body" id="godText">（收合中）</div>
    </section>

    <!-- Seats -->
    <main class="seats">
      <div class="seats-grid" id="seatsGrid"></div>
    </main>

    <!-- Bottom Action Bar -->
    <footer class="actionbar">
      <button class="btn ghost" id="btnBack" disabled>上一步</button>
      <button class="btn primary" id="btnPrimary">下一步</button>
      <button class="btn ghost" id="btnCancel">取消</button>
    </footer>
  </div>

  <!-- Settings Drawer -->
  <div class="drawer-backdrop hidden" id="drawerBackdrop"></div>
  <aside class="drawer hidden" id="drawer">
    <div class="drawer-head">
      <div class="drawer-title">設定</div>
      <button class="drawer-close" id="btnCloseDrawer">✕</button>
    </div>

    <div class="drawer-section">
      <div class="drawer-label">勝負模式（僅開局可改）</div>
      <div class="seg" role="tablist" aria-label="勝負模式">
        <button class="seg-btn" id="segEdge" type="button">屠邊</button>
        <button class="seg-btn" id="segCity" type="button">屠城</button>
      </div>
      <div class="drawer-help">屠邊：神全死或民全死→狼勝；屠城：狼數≥好人數→狼勝</div>
    </div>

    <div class="drawer-section">
      <div class="drawer-label">上警（僅開局可改）</div>
      <label class="toggle">
        <input type="checkbox" id="togglePolice" />
        <span>啟用上警流程</span>
      </label>
      <div class="drawer-help">12人預設開啟。進夜晚後會鎖定。</div>
    </div>

    <div class="drawer-section">
      <button class="btn danger" id="btnReset" type="button">重置本局（清除存檔）</button>
    </div>
  </aside>

  <!-- Timer Drawer -->
  <div class="drawer-backdrop hidden" id="timerBackdrop"></div>
  <aside class="drawer hidden" id="timerDrawer">
    <div class="drawer-head">
      <div class="drawer-title">倒數計時</div>
      <button class="drawer-close" id="btnCloseTimer">✕</button>
    </div>

    <div class="drawer-section">
      <div class="drawer-label">目前剩餘</div>
      <div class="timer-big" id="timerBig">00:00</div>
      <div class="drawer-help" id="timerHint">選一個常用時間開始，或暫停/重置。</div>
    </div>

    <div class="drawer-section">
      <div class="drawer-label">常用時間</div>
      <div class="grid-quick" id="timerPresets">
        <button class="quick2" data-sec="60">1:00</button>
        <button class="quick2" data-sec="90">1:30</button>
        <button class="quick2" data-sec="120">2:00</button>
        <button class="quick2" data-sec="180">3:00</button>
        <button class="quick2" data-sec="240">4:00</button>
        <button class="quick2" data-sec="300">5:00</button>
      </div>
    </div>

    <div class="drawer-section">
      <div class="grid-actions">
        <button class="btn primary" id="btnTimerStart">開始</button>
        <button class="btn ghost" id="btnTimerPause">暫停</button>
        <button class="btn ghost" id="btnTimerReset">重置</button>
      </div>
      <div class="drawer-help">提示：計時會存檔，重整頁面也會繼續。</div>
    </div>
  </aside>

  <script src="./app.js"></script>
</body>
</html>